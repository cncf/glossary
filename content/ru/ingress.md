---
title: Ингресс
status: Завершено
category: технологии
tags: ["фундаментальный"]
---

Ингресс представляет собой набор правил, которые помогают управлять интернет-трафиком извне в контейнер или группу контейнеров, работающих в кластере.
Он состоит из двух элементов: ресурс ингресса и контроллер ингресса.
Ресурс ингресса — это файл конфигурации, который находится вместе с другими файлами манифестов и позволяет администраторам настраивать маршрутизацию внешнего трафика.
Контроллер ингресса — это технология веб-сервера, которая фактически выполняет маршрутизацию трафика в соответствии с конфигурацией в ресурсе ингресса.

## Проблема, которую он решает

Облачные веб-приложения состоят из множества служб, и часто эти [службы](/service/) должны быть доступны через интернет, чтобы пользователи могли посещать их с помощью браузера.
Чтобы сделать эти службы доступными для пользователей, используя [Kubernetes](/kubernetes/) для запуска этого приложения, нам нужно обеспечить доступ каждой службы приложения к внешнему миру.
Наиболее простым способом было бы использование службы балансировки нагрузки Kubernetes.
Но создание такой службы приводит к появлению нового компонента на базовой инфраструктуре.
Это не только влечет за собой новые расходы и увеличение управленческой нагрузки, но каждый вновь созданный балансировщик нагрузки получает собственный внешний IP-адрес.
Это приводит к плохому пользовательскому опыту, потому что как пользователь, мы не хотим переходить по разным URL для доступа к приложению.

## Как это помогает

Ресурс ингресса позволяет настроить, как трафик распределяется и маршрутизируется к службам приложения.
Контроллер ингресса обеспечивает единый точку входа через URL (www.example-url.com) и выполняет фактическую маршрутизацию и балансировку на основе различных путей URL (www.example-url.com/path).
Контроллер ингресса — это компонент, который работает внутри кластера и интерпретирует правила, определенные в ресурсе ингресса.
Операторы кластера, на котором работает веб-приложение, могут выбрать определенный контроллер ингресса из набора возможных технологий, таких как Nginx, Traefik, HAProxy и т.д.
Теперь, если приложение состоит из нескольких служб, пользователь может получить доступ к нему с использованием одного URL.
Это исключает необходимость множества отдельных балансировщиков нагрузки на уровне инфраструктуры и упрощает настройку правил брандмауэра и балансировщика н
