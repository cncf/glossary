---
title: Service Mesh
status: Completed
category: technology
tags: ["networking", "", ""]
---

در دنیای [Microservice](/microservices-architecture/)، Appها به چندین [Service](/service/) کوچک‌تر تقسیم می‌شوند که از طریق شبکه با هم ارتباط دارند. همانند شبکه Wi-Fi شما، شبکه‌های رایانه‌ای ذاتاً غیرقابل اعتماد، قابل هک و اغلب کند هستند. Service Mesh این چالش‌ها را با مدیریت ترافیک (یعنی ارتباط) بین Serviceها و افزودن ویژگی‌های [Reliability](/reliability/)، [Observability](/observability/) و امنیتی به‌صورت یکنواخت در همه Serviceها برطرف می‌کند.

## مسئله‌ای که حل می‌کند

پس از مهاجرت به معماری Microservice، مهندسان با صدها یا حتی هزاران Service منفرد روبه‌رو هستند که همگی باید با یکدیگر ارتباط برقرار کنند. این یعنی ترافیک زیادی روی شبکه رفت‌وبرگشت می‌کند. علاوه بر آن، برنامه‌های منفرد ممکن است برای پاسخ به الزامات قانونی نیاز به رمزنگاری ارتباطات داشته باشند، Metricهای مشترکی برای تیم‌های عملیات فراهم کنند یا بینش دقیق از ترافیک ارائه دهند تا در تشخیص مشکلات کمک کند. اگر هرکدام از این قابلیت‌ها داخل Applicationها پیاده شود، باعث اصطکاک بین تیم‌ها و کند شدن توسعه قابلیت‌های جدید خواهد شد.

## چگونه کمک می‌کند

Service Mesh بدون نیاز به تغییر کد، ویژگی‌های قابلیت اطمینان، Observability و امنیت را به‌صورت یکنواخت در همه Serviceهای کلاستر اضافه می‌کند. پیش از Service Mesh، این قابلیت‌ها باید در هر Service به‌صورت جداگانه کدنویسی می‌شدند و به منبع بالقوه Bug و بدهی فنی تبدیل می‌شدند.

مدل [Sidecar Container](/sidecar-container/) هر [پاد](/pod/) را با یک Proxy جفت می‌کند. این Proxy در سطح هر پاد، ترافیک شبکه را رهگیری و مدیریت می‌کند، Policyهای امنیتی را اعمال می‌کند، بار را متعادل می‌کند و داده‌های عملکردی هر Service را جمع‌آوری می‌کند. این رویکرد کنترل عالی و مدیریت ترافیک اختصاصی برای هر Service ارائه می‌دهد، اما منابع محاسباتی بیشتری مصرف می‌کند و با رشد سیستم، مدیریت آن پیچیده‌تر می‌شود.

طراحی **Sidecarless** در مقابل، قابلیت‌های Mesh را با استفاده از ویژگی‌های Kernel مانند [eBPF](/ebpf/) به سطح سیستم‌عامل منتقل می‌کند. با حذف Proxyهای هر پاد، این روش مصرف منابع را به‌طور چشمگیری کاهش می‌دهد و Hopهای شبکه غیرضروری را حذف می‌کند که Latency را پایین می‌آورد و عملکرد را افزایش می‌دهد. چون سربار مستقل از تعداد پاد ثابت می‌ماند و Agentهای کمتری برای استقرار وجود دارد، تیم‌ها از عملیات ساده‌تر و Scalability خطی با افزایش Workload بهره‌مند می‌شوند.
